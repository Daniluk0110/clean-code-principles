# –†–µ—à–µ–Ω–∏–µ: —Ä–∞–∑–±–æ—Ä –Ω–∞—Ä—É—à–µ–Ω–∏–π üõ†Ô∏è

1. **Single Responsibility / CQS:** dirty `OrderProcessor::processOrder` –¥–µ–ª–∞–ª –≤—Å—ë: –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–ª, –ø—Ä–∏–º–µ–Ω—è–ª —Å–∫–∏–¥–∫–∏, –æ—Ç–ø—Ä–∞–≤–ª—è–ª —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –≤–æ–∑–≤—Ä–∞—â–∞–ª ID. –í —Ä–µ—à–µ–Ω–∏–∏ `OrderProcessor::process` —Ç–æ–ª—å–∫–æ –æ—Ä–∫–µ—Å—Ç—Ä–∏—Ä—É–µ—Ç —Å–µ—Ä–≤–∏—Å—ã, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `void`, –∞ –∫–∞–∂–¥–∞—è –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç—å –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å.

2. **YAGNI / Value Objects:** –∏—Å—Ö–æ–¥–Ω–∏–∫ —Ä–∞–±–æ—Ç–∞–ª —Å —Å—ã—Ä—ã–º–∏ –º–∞—Å—Å–∏–≤–∞–º–∏ –∏ —Å—Ç—Ä–æ–∫–∞–º–∏ (email, —Å—É–º–º–∞), —á—Ç–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å. –†–µ—à–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `OrderData`, `Money` –∏ `Email`, —Ç–∞–∫ —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ö–æ–¥—è—Ç –∑–∞—Ä–∞–Ω–µ–µ –ø—Ä–æ–≤–µ—Ä–∫—É –∏ —Å–∞–º–æ–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã.

3. **Dependency Inversion:** –≤ –≥—Ä—è–∑–Ω–æ–º –∫–æ–¥–µ —Å–æ–∑–¥–∞–≤–∞–ª–∏—Å—å `MySQLConnection` –∏ `SmtpMailer` –ø—Ä—è–º–æ –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞. –í —Ä–µ—à–µ–Ω–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –∏ –º—ã –∫–æ–º–ø–æ–Ω—É–µ–º —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (`InMemoryOrderRepository`, `ConsoleNotifier`) –≤ `index.php`.

4. **DRY / SRP:** —Å–∫–∏–¥–∫–∏ –∏ –ù–î–° —Å—á–∏—Ç–∞–ª–∏—Å—å –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ (–¥—É–±–ª–∏—Ä—É–µ–º—ã–π –∫–æ–¥ –∏ —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞). –¢–µ–ø–µ—Ä—å `DiscountCalculator` –∏ `TaxCalculator` –æ—Ç–≤–µ—á–∞—é—Ç –∑–∞ —Ä–∞—Å—á—ë—Ç, –∏—Ö –º–æ–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ –∑–∞–º–µ–Ω–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ.

5. **Open/Closed:** switch –ø–æ —Ç–∏–ø—É –¥–æ—Å—Ç–∞–≤–∫–∏ —Ç—Ä–µ–±–æ–≤–∞–ª –ø—Ä–∞–≤–∫–∏ –º–µ—Ç–æ–¥–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ö—Ä–∞–Ω–∏—Ç —Ç–∞–±–ª–∏—Ü—É –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ (`$shippingModifiers`), –∏ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –º–∞—Å—Å–∏–≤, –∞ –Ω–µ –ª–µ–∑—Ç—å –≤–Ω—É—Ç—Ä—å –ª–æ–≥–∏–∫–∏.

6. **Law of Demeter:** –≥—Ä—è–∑–Ω—ã–π –∫–æ–¥ –Ω—ã—Ä—è–ª –≤ `$data['user']['address']['city']`. –†–µ—à–µ–Ω–∏–µ –¥–µ–∫–æ–º–ø–æ–∑–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ `OrderData`, —Ç–∞–∫ —á—Ç–æ –≤–Ω–µ—à–Ω–∏–π –∫–æ–¥ –Ω–µ –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏.

7. **Command Query Separation:** `processOrder` –≤–æ–∑–≤—Ä–∞—â–∞–ª ID, —Å–æ—Ö—Ä–∞–Ω—è—è –∏ –≥–ª—É—à–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ, —á—Ç–æ –º–µ—à–∞–ª–æ –ø–æ–≤—Ç–æ—Ä—è–µ–º–æ—Å—Ç–∏. –ù–æ–≤—ã–π `OrderProcessor::process` ‚Äî —á–∏—Å—Ç–∞—è –∫–æ–º–∞–Ω–¥–∞: —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç, —É–≤–µ–¥–æ–º–ª—è–µ—Ç, –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –±–∏–∑–Ω–µ—Å-–¥–∞–Ω–Ω—ã—Ö.

8. **Early-Exit:** –≤–ª–æ–∂–µ–Ω–Ω—ã–µ `if` –¥—É–±–ª–∏—Ä–æ–≤–∞–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ (`if (isset...) { if (...) { ... } else { ... } }`). –†–µ—à–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞—Ö DTO –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å—É–º–º—ã —á–µ—Ä–µ–∑ guard clause.

9. **KISS (–º–∞–≥–∏—á–µ—Å–∫–∏–µ —á–∏—Å–ª–∞):** –∑–Ω–∞—á–µ–Ω–∏—è –≤—Ä–æ–¥–µ `0.2`, `0.18`, `1000` –ø–æ—è–≤–ª—è–ª–∏—Å—å –±–µ–∑ –æ–±—ä—è—Å–Ω–µ–Ω–∏–π. –í –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `OrderData` (`discountRate`, `vatRate`), –∞ `shippingModifiers` –æ–ø–∏—Å–∞–Ω—ã —è–≤–Ω–æ.

10. **Naming:** –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `$d`, `$res`, `$tmp`, `$x` –±—ã–ª–∏ –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω—ã. –í —Ä–µ—à–µ–Ω–∏–∏ –ø–æ—è–≤–∏–ª–∏—Å—å –ø–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞ (`$discountCalculator`, `$shippingModifiers`, `OrderData`, `Order`), –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞ –ª—ë–≥–∫–∞—è –¥–ª—è —á—Ç–µ–Ω–∏—è.
